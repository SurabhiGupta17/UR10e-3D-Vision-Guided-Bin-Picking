<?xml version="1.0"?>
<robot xmlns:xacro="http://wiki.ros.org/xacro" name="t42">
  <xacro:macro name="t42_gripper" params="tf_prefix">

    <link name="hand_base" />

    <joint name="${tf_prefix}flange_hand_base" type="fixed">
        <parent link="${tf_prefix}flange" />
        <child link="hand_base" />
        <origin xyz="0 0 0" rpy="0 3.14 0" />
    </joint>

    <link name="hand_coupler">
        <inertial>
            <origin xyz="0.000000 0.000000 0.025400" />
            <mass value="1.0" />
            <inertia ixx="1000.0" ixy="0.0" ixz="0.0" iyy="1000.0" iyz="0.0" izz="1000.0" />
        </inertial>
        <visual>
            <material name="lightblue">
                <color rgba="0. 0.3 1.0 1.0" />
            </material>
            <origin rpy="0 1.57079632679 0" xyz="0.000000 0.000000 0.000000" />
            <geometry>
                <cylinder length="0.00762" radius="0.05715" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 1.57079632679 0" xyz="0.000000 0.000000 0.000000" />
            <geometry>
                <cylinder length="0.00762" radius="0.05715" />
            </geometry>
        </collision>
    </link>

    <link name="motor_space">
        <inertial>
            <origin xyz="0.000000 0.000000 0.025400" />
            <mass value="1.0" />
            <inertia ixx="1000.0" ixy="0.0" ixz="0.0" iyy="1000.0" iyz="0.0" izz="1000.0" />
        </inertial>
        <visual>
            <material name="black">
                <color rgba="0. 0. 0. 1.0" />
            </material>
            <origin rpy="0 1.57079632679 0" xyz="0.000000 0.000000 0.000000" />
            <geometry>
                <cylinder length="0.0508" radius="0.04572" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 1.57079632679 0" xyz="0.000000 0.000000 0.000000" />
            <geometry>
                <cylinder length="0.0508" radius="0.05715" />
            </geometry>
        </collision>
    </link>

    <link name="simple_base">
        <inertial>
            <origin xyz="0.000000 0.000000 0.025400" />
            <mass value="1.0" />
            <inertia ixx="1000.0" ixy="0.0" ixz="0.0" iyy="1000.0" iyz="0.0" izz="1000.0" />
        </inertial>
        <visual>
            <material name="lightlue">
                <color rgba="0. 0.3 1.0 1.0" />
            </material>
            <origin rpy="0 1.57079632679 0" xyz="0.000000 0.000000 0.000000" />
            <geometry>
                <cylinder length="0.00762" radius="0.05715" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 1.57079632679 0" xyz="0.000000 0.000000 0.000000" />
            <geometry>
                <cylinder length="0.00762" radius="0.05715" />
            </geometry>
        </collision>
    </link>

    <link name="prox_r">
        <inertial>
            <origin xyz="-0.015875 -0.009000 -0.071550" />
            <mass value="0.1" />
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01" />
        </inertial>
        <visual>
            <material name="white">
                <color rgba="1.0 1.0 1.0 1.0" />
            </material>
            <origin xyz="-0.015875 -0.009000 -0.071550" />
            <geometry>
                <mesh filename="package://ur_description/meshes/t42/proximal.stl" scale="0.025400 0.025400 0.025400" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.000000 0.000000 -0.031750" />
            <geometry>
                <box size="0.038100 0.019050 0.078740" />
            </geometry>
        </collision>
    </link>

    <link name="prox_l">
        <inertial>
            <origin xyz="-0.015875 -0.009000 -0.071550" />
            <mass value="0.1" />
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01" />
        </inertial>
        <visual>
            <material name="white">
                <color rgba="1.0 1.0 1.0 1.0" />
            </material>
            <origin xyz="-0.015875 -0.009000 -0.071550" />
            <geometry>
                <mesh filename="package://ur_description/meshes/t42/proximal.stl" scale="0.025400 0.025400 0.025400" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.000000 0.000000 -0.031750" />
            <geometry>
                <box size="0.038100 0.019050 0.078740" />
            </geometry>
        </collision>
    </link>
    
    <link name="distal_r">
        <inertial>
            <origin xyz="-0.015875 -0.011709 -0.048006" />
            <mass value="0.1" />
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01" />
        </inertial>
        <visual>
            <material name="green">
                <color rgba="0.1 1.0 0.1 1.0" />
            </material>
            <origin xyz="-0.015875 -0.011709 -0.048006" />
            <geometry>
                <mesh filename="package://ur_description/meshes/t42/distal.stl" scale="0.025400 0.025400 0.025400" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="-0.015875 -0.011709 -0.048006" />
            <geometry>
                <mesh filename="package://ur_description/meshes/t42/distal.stl" scale="0.025400 0.025400 0.025400" />
            </geometry>
        </collision>
    </link>

    <link name="distal_l">
        <inertial>
            <origin xyz="-0.015875 -0.011709 -0.048006" />
            <mass value="0.1" />
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01" />
        </inertial>
        <visual>
            <material name="orange">
                <color rgba="0.9 0.3 0.1 1.0" />
            </material>
            <origin xyz="-0.015875 -0.011709 -0.048006" />
            <geometry>
                <mesh filename="package://ur_description/meshes/t42/distal.stl" scale="0.025400 0.025400 0.025400" />
            </geometry>
        </visual>
        <collision>
            <origin xyz="-0.015875 -0.011709 -0.048006" />
            <geometry>
                <mesh filename="package://ur_description/meshes/t42/distal.stl" scale="0.025400 0.025400 0.025400" />
            </geometry>
        </collision>
    </link>

    <joint name="fixed1" type="fixed">
        <origin rpy="0 0 0" xyz="-0.008890 0.000000 0.000000" />
        <parent link="hand_base" />
        <child link="hand_coupler" />
    </joint>

    <joint name="fixed2" type="fixed">
        <origin rpy="0 0 0" xyz="-0.029210 0.000000 0.000000" />
        <parent link="hand_coupler" />
        <child link="motor_space" />
    </joint>

    <joint name="fixed3" type="fixed">
        <origin rpy="0 0 0" xyz="-0.029210 0.000000 0.000000" />
        <parent link="motor_space" />
        <child link="simple_base" />
    </joint>

    <joint name="base_to_prox_r" type="revolute">
        <origin rpy="-1.57079632679 1.57079632679 0" xyz="-0.016510 -0.017780 0.000000" />
        <parent link="simple_base" />
        <child link="prox_r" />
        <limit effort="10000" lower="0.0" upper="3.0" velocity="2" />
        <axis xyz="1 0 0" />
        <dynamics damping="0" friction="0.0" />
    </joint>

    <joint name="base_to_prox_l" type="revolute">
        <origin rpy="1.57079632679 -1.57079632679 0" xyz="-0.016510 0.017780 0.000000" />
        <parent link="simple_base" />
        <child link="prox_l" />
        <limit effort="10000" lower="0.0" upper="3.0" velocity="2" />
        <axis xyz="1 0 0" />
        <dynamics damping="0" friction="0.0" />
    </joint>

    <joint name="prox_to_distal_r" type="revolute">
        <origin rpy="0 0 0" xyz="0.000000 0.000000 -0.062551" />
        <parent link="prox_r" />
        <child link="distal_r" />
        <limit effort="10000" lower="0.0" upper="3.0" velocity="2" />
        <axis xyz="1 0 0" />
        <dynamics damping="0" friction="0.0" />
    </joint>

    <joint name="prox_to_distal_l" type="revolute">
        <origin rpy="0 0 0" xyz="0.000000 0.000000 -0.062551" />
        <parent link="prox_l" />
        <child link="distal_l" />
        <limit effort="10000" lower="0.0" upper="3.0" velocity="2" />
        <axis xyz="1 0 0" />
        <dynamics damping="0" friction="0.0" />
    </joint>

    <gazebo reference="hand_coupler">
        <material>Gazebo/SkyBlue</material>
        <selfCollide>false</selfCollide>
    </gazebo>

    <gazebo reference="motor_space">
        <material>Gazebo/Black</material>
        <selfCollide>false</selfCollide>
    </gazebo>

    <gazebo reference="simple_base">
        <material>Gazebo/SkyBlue</material>
        <selfCollide>true</selfCollide>
        <mu1>0.9</mu1>
        <mu2>0.9</mu2>
        <kd>1</kd>
        <kp>6000000</kp>
    </gazebo>

    <gazebo reference="prox_r">
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
        <mu1>0.9</mu1>
        <mu2>0.9</mu2>
        <kd>1</kd>
        <kp>6000000</kp>
    </gazebo>

    <gazebo reference="prox_l">
        <material>Gazebo/White</material>
        <selfCollide>true</selfCollide>
        <mu1>0.9</mu1>
        <mu2>0.9</mu2>
        <kd>1</kd>
        <kp>6000000</kp>
    </gazebo>

    <gazebo reference="distal_r">
        <material>Gazebo/Green</material>
        <selfCollide>true</selfCollide>
        <mu1>0.9</mu1>
        <mu2>0.9</mu2>
        <kd>1</kd>
        <kp>6000000</kp>
    </gazebo>

    <gazebo reference="distal_l">
        <material>Gazebo/Orange</material>
        <selfCollide>true</selfCollide>
        <mu1>0.9</mu1>
        <mu2>0.9</mu2>
        <kd>1</kd>
        <kp>10000000</kp>
    </gazebo>


    <transmission name="tran11">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="base_to_prox_r">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor11">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <transmission name="tran12">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="base_to_prox_l">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor12">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <transmission name="tran13">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="prox_to_distal_r">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor13">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <transmission name="tran14">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="prox_to_distal_l">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor14">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

  </xacro:macro>
</robot>